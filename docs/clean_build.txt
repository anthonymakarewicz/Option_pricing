#!/bin/bash

# Define directories to clean
BUILD_DIRS=("build" "cmake-build-debug" "cmake-build-cmake")

# Remove each directory
for dir in "${BUILD_DIRS[@]}"; do
  if [ -d "$dir" ]; then
    echo "Removing directory: $dir"
    rm -rf "$dir"
  else
    echo "Directory not found: $dir"
  fi
done

# Recreate and configure the main build directory
mkdir build
cd build
cmake ..

# Rebuild the project
make

# Run tests
make test


# Make the script executable and run it
chmod +x clean_build.sh
./clean_build.sh
